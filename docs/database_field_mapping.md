# æ•°æ®åº“å­—æ®µæ˜ å°„è¯´æ˜

æœ¬æ–‡æ¡£è®°å½• A è‚¡è´¢åŠ¡æŠ¥è¡¨æ•°æ®åº“å­—æ®µçš„æ­£ç¡®å‘½åå’Œä½¿ç”¨æ–¹æ³•ã€‚

## ğŸ“‹ è¡¨ç»“æ„æ¦‚è§ˆ

### 1. åˆ©æ¶¦è¡¨ (a_share_income_statement)

| å­—æ®µå | ä¸­æ–‡åç§° | è¯´æ˜ | ä»£ç ä¸­çš„åˆ«å |
|--------|----------|------|--------------|
| `b001101000` | è¥ä¸šæ”¶å…¥ | ä¼ä¸šç»è¥è¿‡ç¨‹ä¸­ç¡®è®¤çš„è¥ä¸šæ”¶å…¥ | `revenue` |
| `b001201000` | è¥ä¸šæˆæœ¬ | ä¼ä¸šç¡®è®¤çš„è¥ä¸šæˆæœ¬ | `cost` |
| `b001207000` | ç¨é‡‘åŠé™„åŠ  | è¥ä¸šç¨ã€æ¶ˆè´¹ç¨ã€åŸå¸‚ç»´æŠ¤å»ºè®¾ç¨ç­‰ | `business_tax` |
| `b001209000` | é”€å”®è´¹ç”¨ | å•†å“é”€å”®è¿‡ç¨‹ä¸­å‘ç”Ÿçš„è´¹ç”¨ | `sales_expense` |
| `b001210000` | ç®¡ç†è´¹ç”¨ | ç»„ç»‡å’Œç®¡ç†ç”Ÿäº§ç»è¥å‘ç”Ÿçš„è´¹ç”¨ | `admin_expense` |
| `b001216000` | ç ”å‘è´¹ç”¨ | ç ”ç©¶å¼€å‘æˆæœ¬æ”¯å‡º | `rd_expense` |
| `b001211000` | è´¢åŠ¡è´¹ç”¨ | ç­¹é›†èµ„é‡‘å‘ç”Ÿçš„è´¹ç”¨ | `finance_expense` |
| `b001300000` | è¥ä¸šåˆ©æ¶¦ | ä¸ç»è¥ä¸šåŠ¡æœ‰å…³çš„åˆ©æ¶¦ | `operating_profit` |
| `b001000000` | åˆ©æ¶¦æ€»é¢ | å…¬å¸å®ç°çš„åˆ©æ¶¦æ€»é¢ | `total_profit` |
| `b002000000` | å‡€åˆ©æ¶¦ | å…¬å¸å®ç°çš„å‡€åˆ©æ¶¦ | `net_profit` |
| `b002000101` | å½’å±äºæ¯å…¬å¸æ‰€æœ‰è€…çš„å‡€åˆ©æ¶¦ | åˆå¹¶æŠ¥è¡¨å‡€åˆ©æ¶¦ä¸­å½’å±äºæ¯å…¬å¸éƒ¨åˆ† | `net_profit_parent` |

### 2. èµ„äº§è´Ÿå€ºè¡¨ (a_share_balance_sheet)

| å­—æ®µå | ä¸­æ–‡åç§° | è¯´æ˜ | ä»£ç ä¸­çš„åˆ«å |
|--------|----------|------|--------------|
| `a001100000` | æµåŠ¨èµ„äº§åˆè®¡ | æµåŠ¨èµ„äº§å„é¡¹ç›®ä¹‹åˆè®¡ | `current_assets` |
| `a001200000` | éæµåŠ¨èµ„äº§åˆè®¡ | æ‰€æœ‰éæµåŠ¨èµ„äº§çš„åˆè®¡æ•° | `non_current_assets` |
| `a001000000` | èµ„äº§æ€»è®¡ | æµåŠ¨èµ„äº§å’ŒéæµåŠ¨èµ„äº§ä¹‹åˆè®¡ | `total_assets` |
| `a002100000` | æµåŠ¨è´Ÿå€ºåˆè®¡ | æµåŠ¨è´Ÿå€ºå„é¡¹ç›®ä¹‹åˆè®¡ | `current_liabilities` |
| `a002200000` | éæµåŠ¨è´Ÿå€ºåˆè®¡ | æ‰€æœ‰éæµåŠ¨è´Ÿå€ºçš„åˆè®¡ | `non_current_liabilities` |
| `a002000000` | è´Ÿå€ºåˆè®¡ | æµåŠ¨è´Ÿå€ºå’ŒéæµåŠ¨è´Ÿå€ºä¹‹åˆè®¡ | `total_liabilities` |
| `a003000000` | æ‰€æœ‰è€…æƒç›Šåˆè®¡ | è‚¡ä¸œæƒç›Šå„é¡¹ç›®ä¹‹åˆè®¡ | `total_equity` |
| `a003100000` | å½’å±äºæ¯å…¬å¸æ‰€æœ‰è€…æƒç›Šåˆè®¡ | åˆå¹¶æŠ¥è¡¨ä¸­å½’å±æ¯å…¬å¸æ‰€æœ‰è€…ä»½é¢çš„æƒç›Š | `parent_equity` |
| `a001123000` | å­˜è´§å‡€é¢ | æŒæœ‰ä»¥å¤‡å‡ºå”®çš„äº§æˆå“æˆ–å•†å“ã€åœ¨äº§å“ã€åŸææ–™ç­‰ | `inventory` |
| `a002128000` | åˆåŒè´Ÿå€º | å·²æ”¶æˆ–åº”æ”¶å®¢æˆ·å¯¹ä»·è€Œåº”å‘å®¢æˆ·è½¬è®©å•†å“çš„ä¹‰åŠ¡ | `contract_liability` |

### 3. ç°é‡‘æµé‡è¡¨ (a_share_cashflow_statement)

**æ³¨æ„ï¼šè¡¨åæ˜¯ `a_share_cashflow_statement`ï¼Œä¸æ˜¯ `a_share_cash_flow_statement`ï¼ˆæ²¡æœ‰ä¸‹åˆ’çº¿ï¼‰**

| å­—æ®µå | ä¸­æ–‡åç§° | è¯´æ˜ | ä»£ç ä¸­çš„åˆ«å |
|--------|----------|------|--------------|
| `c001100000` | ç»è¥æ´»åŠ¨ç°é‡‘æµå…¥å°è®¡ | ç»è¥æ´»åŠ¨ç°é‡‘æµå…¥å„é¡¹ç›®åˆè®¡ | `operating_cash_inflow` |
| `c001200000` | ç»è¥æ´»åŠ¨ç°é‡‘æµå‡ºå°è®¡ | ç»è¥æ´»åŠ¨ç°é‡‘æµå‡ºå„é¡¹ç›®åˆè®¡ | `operating_cash_outflow` |
| `c001000000` | ç»è¥æ´»åŠ¨äº§ç”Ÿçš„ç°é‡‘æµé‡å‡€é¢ | ç»è¥æ´»åŠ¨ç°é‡‘æµå…¥å‡æµå‡ºçš„å·®é¢ | `net_operating_cash_flow` |
| `c002100000` | æŠ•èµ„æ´»åŠ¨äº§ç”Ÿçš„ç°é‡‘æµå…¥å°è®¡ | æŠ•èµ„æ´»åŠ¨ç°é‡‘æµå…¥å„é¡¹ç›®åˆè®¡ | `investing_cash_inflow` |
| `c002200000` | æŠ•èµ„æ´»åŠ¨äº§ç”Ÿçš„ç°é‡‘æµå‡ºå°è®¡ | æŠ•èµ„æ´»åŠ¨ç°é‡‘æµå‡ºå„é¡¹ç›®åˆè®¡ | `investing_cash_outflow` |
| `c002000000` | æŠ•èµ„æ´»åŠ¨äº§ç”Ÿçš„ç°é‡‘æµé‡å‡€é¢ | æŠ•èµ„æ´»åŠ¨ç°é‡‘æµå…¥å‡æµå‡ºçš„å·®é¢ | `net_investing_cash_flow` |
| `c003100000` | ç­¹èµ„æ´»åŠ¨ç°é‡‘æµå…¥å°è®¡ | ç­¹èµ„æ´»åŠ¨ç°é‡‘æµå…¥å„é¡¹ç›®åˆè®¡ | `financing_cash_inflow` |
| `c003200000` | ç­¹èµ„æ´»åŠ¨ç°é‡‘æµå‡ºå°è®¡ | ç­¹èµ„æ´»åŠ¨ç°é‡‘æµå‡ºå„é¡¹ç›®åˆè®¡ | `financing_cash_outflow` |
| `c003000000` | ç­¹èµ„æ´»åŠ¨äº§ç”Ÿçš„ç°é‡‘æµé‡å‡€é¢ | ç­¹èµ„æ´»åŠ¨ç°é‡‘æµå…¥å‡æµå‡ºçš„å·®é¢ | `net_financing_cash_flow` |
| `c005000000` | ç°é‡‘åŠç°é‡‘ç­‰ä»·ç‰©å‡€å¢åŠ é¢ | ä¼šè®¡æœŸé—´å†…ç°é‡‘åŠç°é‡‘ç­‰ä»·ç‰©å‡€å¢åŠ é¢ | `net_cash_increase` |

## ğŸ”§ å­—æ®µå‘½åè§„åˆ™

### å‰ç¼€è§„åˆ™
- **åˆ©æ¶¦è¡¨**: `b` å¼€å¤´ï¼ˆå¦‚ `b001101000`ï¼‰
- **èµ„äº§è´Ÿå€ºè¡¨**: `a` å¼€å¤´ï¼ˆå¦‚ `a001000000`ï¼‰
- **ç°é‡‘æµé‡è¡¨**: `c` å¼€å¤´ï¼ˆå¦‚ `c001000000`ï¼‰

### ç¼–å·è§„åˆ™
- **ç¬¬ä¸€æ®µ (001-009)**: å¤§ç±»ç¼–å·
  - åˆ©æ¶¦è¡¨ï¼š`b001` = æ”¶å…¥ç±», `b002` = åˆ©æ¶¦ç±»
  - èµ„äº§è´Ÿå€ºè¡¨ï¼š`a001` = èµ„äº§ç±», `a002` = è´Ÿå€ºç±», `a003` = æƒç›Šç±»
  - ç°é‡‘æµé‡è¡¨ï¼š`c001` = ç»è¥æ´»åŠ¨, `c002` = æŠ•èµ„æ´»åŠ¨, `c003` = ç­¹èµ„æ´»åŠ¨
  
- **ç¬¬äºŒæ®µ (100-900)**: å°ç±»ç¼–å·
  - ä¾‹å¦‚ï¼š`a001100000` = æµåŠ¨èµ„äº§åˆè®¡, `a001200000` = éæµåŠ¨èµ„äº§åˆè®¡

- **ç¬¬ä¸‰æ®µ (000-999)**: æ˜ç»†é¡¹ç›®
  - ä¾‹å¦‚ï¼š`a001101000` = è´§å¸èµ„é‡‘ï¼ˆæµåŠ¨èµ„äº§ä¸‹çš„æ˜ç»†ï¼‰

## âš ï¸ å¸¸è§é”™è¯¯

### 1. è¡¨åé”™è¯¯
âŒ `a_share_cash_flow_statement`  
âœ… `a_share_cashflow_statement`

### 2. Schema å‰ç¼€é”™è¯¯
âŒ `ashare.a_share_income_statement`  
âœ… `a_share_income_statement`  
ï¼ˆå»ºè¡¨è¯­å¥ä¸­ Schema åˆ›å»ºè¢«æ³¨é‡Šï¼Œé»˜è®¤ä½¿ç”¨ public schemaï¼‰

### 3. å­—æ®µåé”™è¯¯å¯¹ç…§

| é”™è¯¯ä½¿ç”¨ âŒ | æ­£ç¡®å­—æ®µ âœ… | å­—æ®µå«ä¹‰ |
|------------|------------|----------|
| `b001102000` | `b001201000` | è¥ä¸šæˆæœ¬ |
| `b001103000` | `b001207000` | ç¨é‡‘åŠé™„åŠ  |
| `b001112000` | `b001209000` | é”€å”®è´¹ç”¨ |
| `b001113000` | `b001210000` | ç®¡ç†è´¹ç”¨ |
| `b001114000` | `b001216000` | ç ”å‘è´¹ç”¨ |
| `b001115000` | `b001211000` | è´¢åŠ¡è´¹ç”¨ |
| `b001201000` | `b001300000` | è¥ä¸šåˆ©æ¶¦ |
| `b001211000` | `b001000000` | åˆ©æ¶¦æ€»é¢ |
| `b001213000` | `b002000000` | å‡€åˆ©æ¶¦ |
| `b001213101` | `b002000101` | å½’æ¯å‡€åˆ©æ¶¦ |
| `a002216000` | `a002128000` | åˆåŒè´Ÿå€º |
| `c001101000` | `c001100000` | ç»è¥ç°é‡‘æµå…¥å°è®¡ |
| `c001301000` | `c001000000` | ç»è¥ç°é‡‘æµé‡å‡€é¢ |
| `c001102000` | `c002100000` | æŠ•èµ„ç°é‡‘æµå…¥å°è®¡ |
| `c001302000` | `c002000000` | æŠ•èµ„ç°é‡‘æµé‡å‡€é¢ |
| `c001103000` | `c003100000` | ç­¹èµ„ç°é‡‘æµå…¥å°è®¡ |
| `c001303000` | `c003000000` | ç­¹èµ„ç°é‡‘æµé‡å‡€é¢ |
| `c001401000` | `c005000000` | ç°é‡‘å‡€å¢åŠ é¢ |

## ğŸ“ ä¿®æ”¹è®°å½•

### 2024-11-06 (æœ¬æ¬¡ä¿®æ­£)
- âœ… ä¿®æ­£ `src/database/financial_data_service.py` ä¸­æ‰€æœ‰é”™è¯¯å­—æ®µå
- âœ… ä¿®æ­£ `src/config/industry_configs.py` ä¸­çš„å­—æ®µå¼•ç”¨
- âœ… ç§»é™¤äº†é”™è¯¯çš„ `ashare.` Schema å‰ç¼€
- âœ… ä¿®æ­£ç°é‡‘æµé‡è¡¨è¡¨å `a_share_cashflow_statement`

### å½±å“çš„æ–‡ä»¶
1. `src/database/financial_data_service.py` - æ•°æ®åº“æŸ¥è¯¢
2. `src/config/industry_configs.py` - è¡Œä¸šæŒ‡æ ‡é…ç½®
3. `src/extractors/indicator_extractor.py` - ä½¿ç”¨é…ç½®ä¸­çš„å­—æ®µ

## ğŸ” éªŒè¯æ–¹æ³•

### 1. SQL éªŒè¯
```sql
-- éªŒè¯è¡¨æ˜¯å¦å­˜åœ¨
SELECT table_name FROM information_schema.tables 
WHERE table_name IN ('a_share_income_statement', 'a_share_balance_sheet', 'a_share_cashflow_statement');

-- éªŒè¯å­—æ®µæ˜¯å¦å­˜åœ¨
SELECT column_name, data_type 
FROM information_schema.columns 
WHERE table_name = 'a_share_income_statement' 
  AND column_name IN ('b001101000', 'b001201000', 'b002000000');
```

### 2. Python ä»£ç éªŒè¯
```python
from src.database.financial_data_service import FinancialDataService

service = FinancialDataService()
data = service.get_income_statement(
    stock_code="601360",
    report_period="2024-03-31",
    report_type="A"
)
print(data)  # æ£€æŸ¥æ˜¯å¦æˆåŠŸè¿”å›æ•°æ®
```

## ğŸ“š å‚è€ƒèµ„æ–™
- å»ºè¡¨æ–‡ä»¶ï¼š`scripts/database_schema.sql`
- Wind æ•°æ®åº“å­—æ®µè¯´æ˜æ–‡æ¡£
- A è‚¡ä¸Šå¸‚å…¬å¸è´¢åŠ¡æŠ¥è¡¨ç¼–åˆ¶æŒ‡å—

